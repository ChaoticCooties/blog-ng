---
interface Props {
  title: string;
  value: string | number;
  trend?: 'up' | 'down' | 'neutral';
  trendValue?: string;
  description?: string;
  color?: string;
}

const {
  title,
  value,
  trend,
  trendValue,
  description,
  color = '#F05D23'
} = Astro.props;

const trendIcon = {
  up: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>`,
  down: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>`,
  neutral: `<svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M4 8H12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>`
};

const trendColorClass = {
  up: 'trend-up',
  down: 'trend-down',
  neutral: 'trend-neutral'
};
---

<div class="metric-card">
  <div class="metric-header">
    <h4 class="metric-title">{title}</h4>
  </div>
  <div class="metric-value" style={`color: ${color}`}>
    {value}
  </div>
  {trend && trendValue && (
    <div class={`metric-trend ${trendColorClass[trend]}`}>
      <span class="trend-icon" set:html={trendIcon[trend]} />
      <span class="trend-value">{trendValue}</span>
    </div>
  )}
  {description && (
    <p class="metric-description">{description}</p>
  )}
</div>

<style>
  .metric-card {
    background: white;
    border: 1px solid var(--color-border);
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    transition: all 0.2s ease;
  }

  .metric-card:hover {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
    transform: translateY(-2px);
  }

  .metric-header {
    margin-bottom: 0.75rem;
  }

  .metric-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-text-muted);
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 0.025em;
  }

  .metric-value {
    font-size: 2.5rem;
    font-weight: 700;
    font-family: var(--font-display);
    line-height: 1;
    margin-bottom: 0.5rem;
  }

  .metric-trend {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.25rem 0.625rem;
    border-radius: 6px;
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
  }

  .trend-up {
    background: #D1FAE5;
    color: #059669;
  }

  .trend-down {
    background: #FEE2E2;
    color: #DC2626;
  }

  .trend-neutral {
    background: #F3F4F6;
    color: #6B7280;
  }

  .trend-icon {
    display: flex;
    align-items: center;
  }

  .metric-description {
    font-size: 0.9rem;
    color: var(--color-text-muted);
    margin: 0;
    line-height: 1.5;
  }
</style>
