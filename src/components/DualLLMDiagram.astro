<div class="dual-llm">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 880 320">
    <defs>
        <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
        <polygon points="0 0, 10 3, 0 6" fill="#6B6B6B"/>
        </marker>
    </defs>

    <!-- Title -->
    <text x="440" y="36" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="20" font-weight="600" fill="#1A1A1A">
        Dual LLM Filter Architecture
    </text>
    <text x="440" y="56" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="12" fill="#6B6B6B">
        Filter LLM passes input through, application LLM combines it with context and processes the result.
    </text>

    <!-- Main panel -->
    <rect x="40" y="70" width="800" height="220" rx="14"
            fill="none" stroke="#E8E5DF" stroke-width="2"/>

    <!-- User input -->
    <rect x="60" y="120" width="150" height="64" rx="12"
            fill="#FAF8F5" stroke="#E8E5DF" stroke-width="2"/>
    <text x="135" y="142" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="13" fill="#1A1A1A">
        User Input
    </text>
    <text x="135" y="160" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="11" fill="#6B6B6B">
        benign wrapper +
    </text>
    <text x="135" y="176" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="11" fill="#6B6B6B">
        encoded adversarial intent
    </text>

    <!-- Arrow: user -> filter -->
    <line x1="210" y1="152" x2="270" y2="152"
            stroke="#6B6B6B" stroke-width="2" marker-end="url(#arrow)"/>

    <!-- Filter LLM -->
    <rect x="270" y="120" width="170" height="64" rx="12"
            fill="#FCE6D8" stroke="#F05D23" stroke-width="2"/>
    <text x="355" y="140" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="13" font-weight="600" fill="#F05D23">
        Filter LLM
    </text>
    <text x="355" y="160" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="11" fill="#6B6B6B">
        "Is this input safe?"
    </text>
    <text x="355" y="176" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="10" fill="#9A9A9A">
        classification and basic guardrails
    </text>

    <!-- Arrow: filter -> app LLM -->
    <line x1="440" y1="152" x2="500" y2="152"
            stroke="#6B6B6B" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="470" y="170" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="10" fill="#9A9A9A">
        passes through as "safe"
    </text>

    <!-- Application LLM -->
    <rect x="500" y="120" width="170" height="64" rx="12"
            fill="#F05D23"/>
    <text x="585" y="140" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="13" font-weight="600" fill="#FAF8F5">
        Application LLM
    </text>
    <text x="585" y="160" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="11" fill="#FAF8F5">
        combines user input
    </text>
    <text x="585" y="176" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="11" fill="#FAF8F5">
        with system context and tools
    </text>

    <!-- Output -->
    <line x1="670" y1="152" x2="730" y2="152"
            stroke="#6B6B6B" stroke-width="2" marker-end="url(#arrow)"/>

    <rect x="730" y="120" width="90" height="64" rx="12"
            fill="#FAF8F5" stroke="#E8E5DF" stroke-width="2"/>
    <text x="775" y="144" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="12" fill="#1A1A1A">
        Output
    </text>
    <text x="775" y="162" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="10" fill="#F05D23">
        injection
    </text>

    <!-- Shared vulnerability note -->
    <text x="355" y="100" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="10" fill="#6B6B6B">
        Both LLMs inherit the same
    </text>
    <text x="355" y="112" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="10" fill="#6B6B6B">
        architectural weaknesses
    </text>

    <!-- Context box feeding into Application LLM -->
    <rect x="460" y="210" width="260" height="56" rx="12"
            fill="#FAF8F5" stroke="#E8E5DF" stroke-width="2"/>
    <text x="590" y="228" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="11" fill="#1A1A1A">
        System prompts, RAG documents,
    </text>
    <text x="590" y="244" text-anchor="middle"
            font-family="'DM Sans', sans-serif"
            font-size="11" fill="#1A1A1A">
        tool outputs, and other context
    </text>

    <!-- Arrow from context up into Application LLM -->
    <line x1="590" y1="210" x2="590" y2="184"
            stroke="#6B6B6B" stroke-width="2" marker-end="url(#arrow)"/>

    <text x="600" y="200"
            font-family="'DM Sans', sans-serif"
            font-size="10" fill="#6B6B6B">
        changes interpretation
    </text>

    <!-- Multi-stage attack hint -->
    <text x="175" y="220"
            font-family="'DM Sans', sans-serif"
            font-size="10" fill="#6B6B6B">
        Filter sees input in isolation
    </text>
    <text x="205" y="236"
            font-family="'DM Sans', sans-serif"
            font-size="10" fill="#F05D23">
        Application LLM sees full injection
    </text>
    </svg>
</div>